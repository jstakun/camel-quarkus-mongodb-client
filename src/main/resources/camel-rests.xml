<?xml version="1.0" encoding="UTF-8"?>
<rests xmlns="http://camel.apache.org/schema/spring"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://camel.apache.org/schema/spring https://camel.apache.org/schema/spring/camel-spring-3.18.0.xsd">
    <rest id="cache" path="/camel">
        <post consumes="application/json" id="putToCache" path="/v1/cache/{cid}">
            <to uri="direct:putToCache"/>
        </post>
        <get id="getFromCache" path="/v1/cache/{cid}/{limit}" produces="application/json">
            <to uri="direct:getFromCache"/>
        </get>
        <get id="getFromCache" path="/v1/cache/{cid}/id/{oid}" produces="application/json">
            <to uri="direct:getFromCacheById"/>
        </get>
        <post consumes="application/json" id="aggregateFromCache"
            path="/v1/aggregate/cache/{cid}" produces="application/json">
            <to uri="direct:aggregateFromCache"/>
        </post>
        <post consumes="application/json" id="getByQueryFromCache"
            path="/v1/cache/{cid}/{limit}" produces="application/json">
            <to uri="direct:getByQueryFromCache"/>
        </post>
        <get id="getDbStats" path="/v1/cache/stats" produces="application/json">
            <to uri="direct:getDbStats"/>
        </get>
        <delete id="deleteFromCache" path="/v1/cache/{cid}/{property}/{value}">
            <to uri="direct:deleteFromCache"/>
        </delete>
    </rest>
   
    <!--  RH Summit --> 

    <rest id="rh-summit" path="/api">
        <post consumes="application/json" id="registerUser" path="/v1/register/{cid}">
            <param name="cid" type="path" description="The name of the users collection" dataType="string"/>
            <to uri="direct:registerUser"/>
        </post>
        <get id="getTopLabels" path="/v1/labels/stats" produces="application/json">
            <to uri="direct:getTopLabels"/>
        </get>
         <get id="getTopUsers" path="/v1/users/stats" produces="application/json">
            <to uri="direct:getTopUsers"/>
        </get>
         <get id="getLabelsByUser" path="/v1/labels/{uid}" produces="application/json">
            <param name="uid" type="path" description="The nick of the user" dataType="string"/> 
            <to uri="direct:getLabelsByUser"/>
        </get>   
    </rest>
</rests>
